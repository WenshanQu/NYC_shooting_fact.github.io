<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Regression Analysis</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Data_Visualization_New.html">Data Visualization</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="risk_factors.html">Regression Analysis</a>
    </li>
    <li>
      <a href="anova.html">ANOVA Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://wenshanqu.shinyapps.io/nyc_shooting_fact/">Shooting Facts in NYC</a>
</li>
<li>
  <a href="data_processing.html">Data</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="mailto:&lt;heyu0424@hotmail.com&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/WenshanQu/NYC_shooting_fact.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Regression Analysis</h1>

</div>


<div id="dataset-demonsatration" class="section level3">
<h3>Dataset Demonsatration</h3>
<p>The NYPD Shooting Data was collected from the <a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Shooting-Incident-Data-Year-To-Date-/5ucz-vwe8">NYC Open Data</a>. The dataset includes 1,531 rows and 19 columns. The variables included in the dataset were listed below:</p>
<ul>
<li><code>year</code>. year of shooting incident</li>
<li><code>month</code>. month of the shooting incident</li>
<li><code>day</code>. day of the shooting incident</li>
<li><code>boro</code>. borough where the shooting incident occurred</li>
<li><code>location_desc</code>. location of the shooting incident</li>
<li><code>statistical_murder_flag</code>. Shooting resulted in the victim’s death which would be counted as a murder</li>
<li><code>perp_age_group</code>. perpetrator’s age within a category</li>
<li><code>perp_sex</code>. perpetrator’s sex description</li>
<li><code>perp_race</code>. perpetrator’s race description</li>
<li><code>vic_age_group</code>. victim’s age within a category</li>
<li><code>vic_sex</code>. victim’s sex description</li>
<li><code>vic_race</code>. victim’s race description</li>
<li><code>zipcode</code>. zipcode of the shooting incident</li>
</ul>
</div>
<div id="multiple-linear-regression-model" class="section level2">
<h2>Multiple linear regression model</h2>
<div id="box-cox-transformation" class="section level3">
<h3>Box-Cox transformation</h3>
<p>The box-cox method is applied in the model to determine the transformation of outcome variable. The variable <code>location_desc</code> includes too many missing value. It was not included in the multiple linear regression analysis. All the missing values from our dataset was omitted. The λ is close to - 2, 1 / Y^2 transformation is applied.</p>
<p><img src="risk_factors_files/figure-html/unnamed-chunk-1-1.png" width="80%" /></p>
</div>
<div id="regression-analysis-results" class="section level3">
<h3>Regression analysis results</h3>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">1.407</td>
<td align="right">0.214</td>
<td align="right">6.585</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2007</td>
<td align="right">0.049</td>
<td align="right">0.011</td>
<td align="right">4.660</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2008</td>
<td align="right">0.015</td>
<td align="right">0.010</td>
<td align="right">1.388</td>
<td align="right">0.165</td>
</tr>
<tr class="even">
<td align="left">Year:2009</td>
<td align="right">0.004</td>
<td align="right">0.011</td>
<td align="right">0.415</td>
<td align="right">0.678</td>
</tr>
<tr class="odd">
<td align="left">Year:2010</td>
<td align="right">0.061</td>
<td align="right">0.011</td>
<td align="right">5.415</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2011</td>
<td align="right">0.061</td>
<td align="right">0.012</td>
<td align="right">5.106</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2012</td>
<td align="right">0.064</td>
<td align="right">0.013</td>
<td align="right">4.995</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2013</td>
<td align="right">0.089</td>
<td align="right">0.013</td>
<td align="right">6.706</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2014</td>
<td align="right">0.061</td>
<td align="right">0.013</td>
<td align="right">4.605</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2015</td>
<td align="right">0.063</td>
<td align="right">0.013</td>
<td align="right">4.855</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2016</td>
<td align="right">0.074</td>
<td align="right">0.014</td>
<td align="right">5.398</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2017</td>
<td align="right">0.096</td>
<td align="right">0.014</td>
<td align="right">6.763</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2018</td>
<td align="right">0.081</td>
<td align="right">0.014</td>
<td align="right">5.611</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2019</td>
<td align="right">0.113</td>
<td align="right">0.014</td>
<td align="right">7.913</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2020</td>
<td align="right">0.055</td>
<td align="right">0.013</td>
<td align="right">4.333</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2021</td>
<td align="right">0.052</td>
<td align="right">0.013</td>
<td align="right">3.887</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Month:February</td>
<td align="right">0.028</td>
<td align="right">0.013</td>
<td align="right">2.105</td>
<td align="right">0.035</td>
</tr>
<tr class="even">
<td align="left">Month:March</td>
<td align="right">0.006</td>
<td align="right">0.013</td>
<td align="right">0.517</td>
<td align="right">0.605</td>
</tr>
<tr class="odd">
<td align="left">Month:April</td>
<td align="right">-0.002</td>
<td align="right">0.012</td>
<td align="right">-0.193</td>
<td align="right">0.847</td>
</tr>
<tr class="even">
<td align="left">Month:May</td>
<td align="right">-0.015</td>
<td align="right">0.012</td>
<td align="right">-1.292</td>
<td align="right">0.196</td>
</tr>
<tr class="odd">
<td align="left">Month:June</td>
<td align="right">-0.035</td>
<td align="right">0.012</td>
<td align="right">-3.057</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">Month:July</td>
<td align="right">-0.039</td>
<td align="right">0.011</td>
<td align="right">-3.386</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">Month:August</td>
<td align="right">-0.039</td>
<td align="right">0.011</td>
<td align="right">-3.401</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">Month:September</td>
<td align="right">-0.020</td>
<td align="right">0.012</td>
<td align="right">-1.685</td>
<td align="right">0.092</td>
</tr>
<tr class="odd">
<td align="left">Month:October</td>
<td align="right">-0.017</td>
<td align="right">0.012</td>
<td align="right">-1.379</td>
<td align="right">0.168</td>
</tr>
<tr class="even">
<td align="left">Month:November</td>
<td align="right">0.003</td>
<td align="right">0.012</td>
<td align="right">0.234</td>
<td align="right">0.815</td>
</tr>
<tr class="odd">
<td align="left">Month:December</td>
<td align="right">-0.012</td>
<td align="right">0.012</td>
<td align="right">-0.994</td>
<td align="right">0.320</td>
</tr>
<tr class="even">
<td align="left">Borough:BROOKLYN</td>
<td align="right">-0.065</td>
<td align="right">0.006</td>
<td align="right">-10.586</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Borough:MANHATTAN</td>
<td align="right">0.047</td>
<td align="right">0.007</td>
<td align="right">6.376</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Borough:QUEENS</td>
<td align="right">0.029</td>
<td align="right">0.007</td>
<td align="right">3.912</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Borough:STATEN ISLAND</td>
<td align="right">0.110</td>
<td align="right">0.012</td>
<td align="right">9.063</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Muder Flag:TRUE</td>
<td align="right">0.076</td>
<td align="right">0.006</td>
<td align="right">13.065</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:18-24</td>
<td align="right">-0.087</td>
<td align="right">0.008</td>
<td align="right">-10.386</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Perpetrator age group:25-44</td>
<td align="right">-0.078</td>
<td align="right">0.009</td>
<td align="right">-8.982</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:45-64</td>
<td align="right">-0.010</td>
<td align="right">0.014</td>
<td align="right">-0.672</td>
<td align="right">0.502</td>
</tr>
<tr class="even">
<td align="left">Perpetrator age group:65+</td>
<td align="right">-0.089</td>
<td align="right">0.037</td>
<td align="right">-2.403</td>
<td align="right">0.016</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:UNKNOWN</td>
<td align="right">-0.093</td>
<td align="right">0.011</td>
<td align="right">-8.280</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim age group:18-24</td>
<td align="right">-0.081</td>
<td align="right">0.008</td>
<td align="right">-10.440</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Victim age group:25-44</td>
<td align="right">-0.078</td>
<td align="right">0.008</td>
<td align="right">-9.973</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim age group:45-64</td>
<td align="right">0.024</td>
<td align="right">0.011</td>
<td align="right">2.236</td>
<td align="right">0.025</td>
</tr>
<tr class="odd">
<td align="left">Victim age group:65+</td>
<td align="right">0.018</td>
<td align="right">0.025</td>
<td align="right">0.730</td>
<td align="right">0.465</td>
</tr>
<tr class="even">
<td align="left">Victim age group:UNKNOWN</td>
<td align="right">0.015</td>
<td align="right">0.038</td>
<td align="right">0.397</td>
<td align="right">0.692</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator sex:M</td>
<td align="right">-0.111</td>
<td align="right">0.014</td>
<td align="right">-7.724</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Perpetrator sex:U</td>
<td align="right">-0.238</td>
<td align="right">0.022</td>
<td align="right">-10.821</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:ASIAN / PACIFIC ISLANDER</td>
<td align="right">-0.047</td>
<td align="right">0.189</td>
<td align="right">-0.247</td>
<td align="right">0.805</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:BLACK</td>
<td align="right">-0.139</td>
<td align="right">0.188</td>
<td align="right">-0.739</td>
<td align="right">0.460</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:BLACK HISPANIC</td>
<td align="right">-0.032</td>
<td align="right">0.188</td>
<td align="right">-0.169</td>
<td align="right">0.866</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:UNKNOWN</td>
<td align="right">-0.009</td>
<td align="right">0.188</td>
<td align="right">-0.050</td>
<td align="right">0.960</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:WHITE</td>
<td align="right">-0.105</td>
<td align="right">0.189</td>
<td align="right">-0.557</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:WHITE HISPANIC</td>
<td align="right">-0.054</td>
<td align="right">0.188</td>
<td align="right">-0.286</td>
<td align="right">0.775</td>
</tr>
<tr class="odd">
<td align="left">Victim sex:M</td>
<td align="right">-0.116</td>
<td align="right">0.007</td>
<td align="right">-16.299</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim sex:U</td>
<td align="right">-0.048</td>
<td align="right">0.096</td>
<td align="right">-0.497</td>
<td align="right">0.619</td>
</tr>
<tr class="odd">
<td align="left">Victim race:ASIAN / PACIFIC ISLANDER</td>
<td align="right">-0.026</td>
<td align="right">0.102</td>
<td align="right">-0.259</td>
<td align="right">0.796</td>
</tr>
<tr class="even">
<td align="left">Victim race:BLACK</td>
<td align="right">-0.176</td>
<td align="right">0.100</td>
<td align="right">-1.754</td>
<td align="right">0.080</td>
</tr>
<tr class="odd">
<td align="left">Victim race:BLACK HISPANIC</td>
<td align="right">-0.037</td>
<td align="right">0.101</td>
<td align="right">-0.370</td>
<td align="right">0.711</td>
</tr>
<tr class="even">
<td align="left">Victim race:UNKNOWN</td>
<td align="right">-0.015</td>
<td align="right">0.109</td>
<td align="right">-0.142</td>
<td align="right">0.887</td>
</tr>
<tr class="odd">
<td align="left">Victim race:WHITE</td>
<td align="right">-0.051</td>
<td align="right">0.101</td>
<td align="right">-0.502</td>
<td align="right">0.616</td>
</tr>
<tr class="even">
<td align="left">Victim race:WHITE HISPANIC</td>
<td align="right">-0.062</td>
<td align="right">0.101</td>
<td align="right">-0.618</td>
<td align="right">0.536</td>
</tr>
</tbody>
</table>
<p>Our regression model included year, month, borough, perpetrator’s age group, sex and race, and victim’s age group, sex and race as the predictors. The regression results <code>year</code>, <code>borough</code>, <code>perpetrator's sex and age group</code>, and <code>victim's sex and age group</code> are significant predictor variable for the number of shooting in NYC. Among the month variable, May, June, July, August, September, October, and December have lower number of shooting than January.And among the borough, compared with Bronx, Brooklyn have less number of shooting, and Manhattan, Queens, and Staten Island have more number of shooting.Among perpetrators, age under 18 have more number of shooting than other age groups. Among victims, 45-64 years old and 65+ years old have more number of shooting that age under 18 group.The next step is to use stepwise regression in backward direction to build our regression model.</p>
</div>
<div id="backward-stepwise-regression" class="section level3">
<h3>backward stepwise regression</h3>
<pre><code>## Start:  AIC=-33522.97
## number_shoot ~ year + month + boro + statistical_murder_flag + 
##     perp_age_group + vic_age_group + perp_sex + perp_race + vic_sex + 
##     vic_race
## 
##                           Df Sum of Sq    RSS    AIC
## &lt;none&gt;                                 883.75 -33523
## - month                   11     4.409 888.16 -33482
## - perp_sex                 2     8.286 892.04 -33409
## - year                    15    10.861 894.62 -33399
## - perp_age_group           5    10.269 894.02 -33387
## - statistical_murder_flag  1    11.987 895.74 -33355
## - vic_age_group            5    17.508 901.26 -33285
## - vic_sex                  2    18.685 902.44 -33262
## - perp_race                6    21.002 904.76 -33238
## - boro                     4    28.682 912.44 -33127
## - vic_race                 6    40.486 924.24 -32969</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">1.407</td>
<td align="right">0.214</td>
<td align="right">6.585</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2007</td>
<td align="right">0.049</td>
<td align="right">0.011</td>
<td align="right">4.660</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2008</td>
<td align="right">0.015</td>
<td align="right">0.010</td>
<td align="right">1.388</td>
<td align="right">0.165</td>
</tr>
<tr class="even">
<td align="left">Year:2009</td>
<td align="right">0.004</td>
<td align="right">0.011</td>
<td align="right">0.415</td>
<td align="right">0.678</td>
</tr>
<tr class="odd">
<td align="left">Year:2010</td>
<td align="right">0.061</td>
<td align="right">0.011</td>
<td align="right">5.415</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2011</td>
<td align="right">0.061</td>
<td align="right">0.012</td>
<td align="right">5.106</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2012</td>
<td align="right">0.064</td>
<td align="right">0.013</td>
<td align="right">4.995</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2013</td>
<td align="right">0.089</td>
<td align="right">0.013</td>
<td align="right">6.706</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2014</td>
<td align="right">0.061</td>
<td align="right">0.013</td>
<td align="right">4.605</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2015</td>
<td align="right">0.063</td>
<td align="right">0.013</td>
<td align="right">4.855</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2016</td>
<td align="right">0.074</td>
<td align="right">0.014</td>
<td align="right">5.398</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2017</td>
<td align="right">0.096</td>
<td align="right">0.014</td>
<td align="right">6.763</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2018</td>
<td align="right">0.081</td>
<td align="right">0.014</td>
<td align="right">5.611</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2019</td>
<td align="right">0.113</td>
<td align="right">0.014</td>
<td align="right">7.913</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Year:2020</td>
<td align="right">0.055</td>
<td align="right">0.013</td>
<td align="right">4.333</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Year:2021</td>
<td align="right">0.052</td>
<td align="right">0.013</td>
<td align="right">3.887</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Month:February</td>
<td align="right">0.028</td>
<td align="right">0.013</td>
<td align="right">2.105</td>
<td align="right">0.035</td>
</tr>
<tr class="even">
<td align="left">Month:March</td>
<td align="right">0.006</td>
<td align="right">0.013</td>
<td align="right">0.517</td>
<td align="right">0.605</td>
</tr>
<tr class="odd">
<td align="left">Month:April</td>
<td align="right">-0.002</td>
<td align="right">0.012</td>
<td align="right">-0.193</td>
<td align="right">0.847</td>
</tr>
<tr class="even">
<td align="left">Month:May</td>
<td align="right">-0.015</td>
<td align="right">0.012</td>
<td align="right">-1.292</td>
<td align="right">0.196</td>
</tr>
<tr class="odd">
<td align="left">Month:June</td>
<td align="right">-0.035</td>
<td align="right">0.012</td>
<td align="right">-3.057</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">Month:July</td>
<td align="right">-0.039</td>
<td align="right">0.011</td>
<td align="right">-3.386</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">Month:August</td>
<td align="right">-0.039</td>
<td align="right">0.011</td>
<td align="right">-3.401</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">Month:September</td>
<td align="right">-0.020</td>
<td align="right">0.012</td>
<td align="right">-1.685</td>
<td align="right">0.092</td>
</tr>
<tr class="odd">
<td align="left">Month:October</td>
<td align="right">-0.017</td>
<td align="right">0.012</td>
<td align="right">-1.379</td>
<td align="right">0.168</td>
</tr>
<tr class="even">
<td align="left">Month:November</td>
<td align="right">0.003</td>
<td align="right">0.012</td>
<td align="right">0.234</td>
<td align="right">0.815</td>
</tr>
<tr class="odd">
<td align="left">Month:December</td>
<td align="right">-0.012</td>
<td align="right">0.012</td>
<td align="right">-0.994</td>
<td align="right">0.320</td>
</tr>
<tr class="even">
<td align="left">Borough:BROOKLYN</td>
<td align="right">-0.065</td>
<td align="right">0.006</td>
<td align="right">-10.586</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Borough:MANHATTAN</td>
<td align="right">0.047</td>
<td align="right">0.007</td>
<td align="right">6.376</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Borough:QUEENS</td>
<td align="right">0.029</td>
<td align="right">0.007</td>
<td align="right">3.912</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Borough:STATEN ISLAND</td>
<td align="right">0.110</td>
<td align="right">0.012</td>
<td align="right">9.063</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Muder Flag:TRUE</td>
<td align="right">0.076</td>
<td align="right">0.006</td>
<td align="right">13.065</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:18-24</td>
<td align="right">-0.087</td>
<td align="right">0.008</td>
<td align="right">-10.386</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Perpetrator age group:25-44</td>
<td align="right">-0.078</td>
<td align="right">0.009</td>
<td align="right">-8.982</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:45-64</td>
<td align="right">-0.010</td>
<td align="right">0.014</td>
<td align="right">-0.672</td>
<td align="right">0.502</td>
</tr>
<tr class="even">
<td align="left">Perpetrator age group:65+</td>
<td align="right">-0.089</td>
<td align="right">0.037</td>
<td align="right">-2.403</td>
<td align="right">0.016</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator age group:UNKNOWN</td>
<td align="right">-0.093</td>
<td align="right">0.011</td>
<td align="right">-8.280</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim age group:18-24</td>
<td align="right">-0.081</td>
<td align="right">0.008</td>
<td align="right">-10.440</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Victim age group:25-44</td>
<td align="right">-0.078</td>
<td align="right">0.008</td>
<td align="right">-9.973</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim age group:45-64</td>
<td align="right">0.024</td>
<td align="right">0.011</td>
<td align="right">2.236</td>
<td align="right">0.025</td>
</tr>
<tr class="odd">
<td align="left">Victim age group:65+</td>
<td align="right">0.018</td>
<td align="right">0.025</td>
<td align="right">0.730</td>
<td align="right">0.465</td>
</tr>
<tr class="even">
<td align="left">Victim age group:UNKNOWN</td>
<td align="right">0.015</td>
<td align="right">0.038</td>
<td align="right">0.397</td>
<td align="right">0.692</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator sex:M</td>
<td align="right">-0.111</td>
<td align="right">0.014</td>
<td align="right">-7.724</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Perpetrator sex:U</td>
<td align="right">-0.238</td>
<td align="right">0.022</td>
<td align="right">-10.821</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:ASIAN / PACIFIC ISLANDER</td>
<td align="right">-0.047</td>
<td align="right">0.189</td>
<td align="right">-0.247</td>
<td align="right">0.805</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:BLACK</td>
<td align="right">-0.139</td>
<td align="right">0.188</td>
<td align="right">-0.739</td>
<td align="right">0.460</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:BLACK HISPANIC</td>
<td align="right">-0.032</td>
<td align="right">0.188</td>
<td align="right">-0.169</td>
<td align="right">0.866</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:UNKNOWN</td>
<td align="right">-0.009</td>
<td align="right">0.188</td>
<td align="right">-0.050</td>
<td align="right">0.960</td>
</tr>
<tr class="odd">
<td align="left">Perpetrator race:WHITE</td>
<td align="right">-0.105</td>
<td align="right">0.189</td>
<td align="right">-0.557</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Perpetrator race:WHITE HISPANIC</td>
<td align="right">-0.054</td>
<td align="right">0.188</td>
<td align="right">-0.286</td>
<td align="right">0.775</td>
</tr>
<tr class="odd">
<td align="left">Victim sex:M</td>
<td align="right">-0.116</td>
<td align="right">0.007</td>
<td align="right">-16.299</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Victim sex:U</td>
<td align="right">-0.048</td>
<td align="right">0.096</td>
<td align="right">-0.497</td>
<td align="right">0.619</td>
</tr>
<tr class="odd">
<td align="left">Victim race:ASIAN / PACIFIC ISLANDER</td>
<td align="right">-0.026</td>
<td align="right">0.102</td>
<td align="right">-0.259</td>
<td align="right">0.796</td>
</tr>
<tr class="even">
<td align="left">Victim race:BLACK</td>
<td align="right">-0.176</td>
<td align="right">0.100</td>
<td align="right">-1.754</td>
<td align="right">0.080</td>
</tr>
<tr class="odd">
<td align="left">Victim race:BLACK HISPANIC</td>
<td align="right">-0.037</td>
<td align="right">0.101</td>
<td align="right">-0.370</td>
<td align="right">0.711</td>
</tr>
<tr class="even">
<td align="left">Victim race:UNKNOWN</td>
<td align="right">-0.015</td>
<td align="right">0.109</td>
<td align="right">-0.142</td>
<td align="right">0.887</td>
</tr>
<tr class="odd">
<td align="left">Victim race:WHITE</td>
<td align="right">-0.051</td>
<td align="right">0.101</td>
<td align="right">-0.502</td>
<td align="right">0.616</td>
</tr>
<tr class="even">
<td align="left">Victim race:WHITE HISPANIC</td>
<td align="right">-0.062</td>
<td align="right">0.101</td>
<td align="right">-0.618</td>
<td align="right">0.536</td>
</tr>
</tbody>
</table>
<p>The backward stepwise regression chose the regression model with minimum AIC value. However, the stepwise regression did not omit any predictor, which indicates that the current regression model is sufficient to explain the outcome - number of shooing in NYC.</p>
</div>
<div id="correlation-matrix" class="section level3">
<h3>Correlation Matrix</h3>
<pre class="r"><code>cor_data = 
  cor(cbind(number_shoot = pull(mlr_lm, number_shoot),
             
  model.matrix(number_shoot ~ year + month + boro + statistical_murder_flag + perp_age_group + vic_age_group + perp_sex + perp_race + vic_sex + vic_race, data = mlr_lm)[,-1])
  )

cor_data %&gt;% 
  corrplot(method = &quot;color&quot;, addCoef.col = &quot;black&quot;, tl.col = &quot;black&quot;, tl.srt = 45, tl.cex = 0.5, insig = &quot;blank&quot;, number.cex = 0.1,diag = FALSE)</code></pre>
<p><img src="risk_factors_files/figure-html/unnamed-chunk-4-1.png" width="80%" /></p>
<p>The correlation analysis of NYC shooting data shows that the unknown sex and race of perpetrator is highly collinearited. And most of other variables are acceptable.</p>
</div>
<div id="multiple-linear-regression-diagnose" class="section level3">
<h3>Multiple Linear Regression diagnose</h3>
<pre><code>## 
## Call:
## lm(formula = number_shoot ~ year + month + boro + statistical_murder_flag + 
##     perp_age_group + vic_age_group + perp_sex + perp_race + vic_sex + 
##     vic_race, data = mlr_lm)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.92978 -0.05159  0.08218  0.17605  0.49877 
## 
## Coefficients:
##                                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                        1.406603   0.213614   6.585 4.74e-11 ***
## year2007                           0.048944   0.010503   4.660 3.20e-06 ***
## year2008                           0.014533   0.010473   1.388 0.165231    
## year2009                           0.004493   0.010816   0.415 0.677875    
## year2010                           0.060889   0.011244   5.415 6.23e-08 ***
## year2011                           0.061287   0.012002   5.106 3.33e-07 ***
## year2012                           0.063999   0.012813   4.995 5.96e-07 ***
## year2013                           0.089494   0.013346   6.706 2.09e-11 ***
## year2014                           0.061202   0.013290   4.605 4.16e-06 ***
## year2015                           0.063086   0.012993   4.855 1.22e-06 ***
## year2016                           0.073959   0.013701   5.398 6.86e-08 ***
## year2017                           0.095977   0.014192   6.763 1.41e-11 ***
## year2018                           0.080799   0.014401   5.611 2.06e-08 ***
## year2019                           0.113096   0.014292   7.913 2.72e-15 ***
## year2020                           0.054713   0.012628   4.333 1.48e-05 ***
## year2021                           0.052150   0.013417   3.887 0.000102 ***
## monthFebruary                      0.027681   0.013153   2.105 0.035347 *  
## monthMarch                         0.006494   0.012553   0.517 0.604912    
## monthApril                        -0.002345   0.012164  -0.193 0.847118    
## monthMay                          -0.014973   0.011585  -1.292 0.196212    
## monthJune                         -0.035405   0.011583  -3.057 0.002242 ** 
## monthJuly                         -0.038586   0.011396  -3.386 0.000712 ***
## monthAugust                       -0.038710   0.011381  -3.401 0.000673 ***
## monthSeptember                    -0.019894   0.011805  -1.685 0.091971 .  
## monthOctober                      -0.016617   0.012054  -1.379 0.168063    
## monthNovember                      0.002905   0.012399   0.234 0.814748    
## monthDecember                     -0.012422   0.012491  -0.994 0.319999    
## boroBROOKLYN                      -0.064692   0.006111 -10.586  &lt; 2e-16 ***
## boroMANHATTAN                      0.046723   0.007328   6.376 1.88e-10 ***
## boroQUEENS                         0.028754   0.007351   3.912 9.22e-05 ***
## boroSTATEN ISLAND                  0.110384   0.012180   9.063  &lt; 2e-16 ***
## statistical_murder_flagTRUE        0.076203   0.005833  13.065  &lt; 2e-16 ***
## perp_age_group18-24               -0.087198   0.008396 -10.386  &lt; 2e-16 ***
## perp_age_group25-44               -0.078128   0.008698  -8.982  &lt; 2e-16 ***
## perp_age_group45-64               -0.009583   0.014262  -0.672 0.501654    
## perp_age_group65+                 -0.088533   0.036841  -2.403 0.016270 *  
## perp_age_groupUNKNOWN             -0.092956   0.011227  -8.280  &lt; 2e-16 ***
## vic_age_group18-24                -0.081471   0.007804 -10.440  &lt; 2e-16 ***
## vic_age_group25-44                -0.078179   0.007839  -9.973  &lt; 2e-16 ***
## vic_age_group45-64                 0.024202   0.010822   2.236 0.025341 *  
## vic_age_group65+                   0.018436   0.025256   0.730 0.465427    
## vic_age_groupUNKNOWN               0.015175   0.038266   0.397 0.691702    
## perp_sexM                         -0.110736   0.014337  -7.724 1.21e-14 ***
## perp_sexU                         -0.237753   0.021972 -10.821  &lt; 2e-16 ***
## perp_raceASIAN / PACIFIC ISLANDER -0.046742   0.189275  -0.247 0.804948    
## perp_raceBLACK                    -0.138725   0.187806  -0.739 0.460125    
## perp_raceBLACK HISPANIC           -0.031729   0.187976  -0.169 0.865960    
## perp_raceUNKNOWN                  -0.009432   0.188381  -0.050 0.960068    
## perp_raceWHITE                    -0.105051   0.188667  -0.557 0.577669    
## perp_raceWHITE HISPANIC           -0.053821   0.187893  -0.286 0.774543    
## vic_sexM                          -0.116341   0.007138 -16.299  &lt; 2e-16 ***
## vic_sexU                          -0.047737   0.095972  -0.497 0.618914    
## vic_raceASIAN / PACIFIC ISLANDER  -0.026410   0.101902  -0.259 0.795505    
## vic_raceBLACK                     -0.176157   0.100457  -1.754 0.079532 .  
## vic_raceBLACK HISPANIC            -0.037284   0.100644  -0.370 0.711051    
## vic_raceUNKNOWN                   -0.015496   0.108754  -0.142 0.886694    
## vic_raceWHITE                     -0.050819   0.101298  -0.502 0.615903    
## vic_raceWHITE HISPANIC            -0.062197   0.100574  -0.618 0.536311    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.265 on 12585 degrees of freedom
## Multiple R-squared:  0.1945, Adjusted R-squared:  0.1908 
## F-statistic:  53.3 on 57 and 12585 DF,  p-value: &lt; 2.2e-16</code></pre>
<p><img src="risk_factors_files/figure-html/unnamed-chunk-6-1.png" width="80%" /><img src="risk_factors_files/figure-html/unnamed-chunk-6-2.png" width="80%" /><img src="risk_factors_files/figure-html/unnamed-chunk-6-3.png" width="80%" /><img src="risk_factors_files/figure-html/unnamed-chunk-6-4.png" width="80%" /></p>
<p>The residuals plot of year and borough did not show any distribution pattern which indicated the good fit of model. However, the residual density plot indicated some outliers.</p>
</div>
</div>
<div id="cross-validation-between-different-regression-models" class="section level2">
<h2>Cross Validation between different regression models</h2>
<p><img src="risk_factors_files/figure-html/unnamed-chunk-9-1.png" width="80%" /></p>
<p>Our cross validation include three different models. The first model includes all the predictors. The second model includes only the significant predictors. the third model includes interaction of borough and sex.</p>
<p>The cross validation section, the root mean square deviations were calculated for all the three models. the RMSE plot shows that RMSE of all model are similar. And the first model have the lowest RMSE, which indicates the first model may be the best model to explain the outcome - number of shooting in NYC.</p>
<p>Here’s the link back to <a href="index.html">Homepage</a> page.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
